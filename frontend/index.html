<!doctype html>
<!--===========================================================================================================================
  DigiRella - Agricultural Decision Support System
  Interactive web interface for farm recommendations and scenario analysis
===========================================================================================================================-->
<html lang="az">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Digirella - Fermer Asistenti</title>

    <!--------------------------------------------------------------------------------------------------------------------------
      External Stylesheets
    --------------------------------------------------------------------------------------------------------------------------->
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <!--------------------------------------------------------------------------------------------------------------------------
      Header Section
    --------------------------------------------------------------------------------------------------------------------------->
    <header>
      <div class="brand">
        <img src="logo.png" alt="Digirella logo" />
      </div>
      <h1>Alfalfa Fermer Asistenti</h1>
      <p>Ssenari se√ßimi, t√∂vsiy…ôl…ôr v…ô sad…ô chatbot.</p>
    </header>

    <!--------------------------------------------------------------------------------------------------------------------------
      Main Content Area
    --------------------------------------------------------------------------------------------------------------------------->
    <main class="wrap">

      <!--------------------------------------------------------------------------------------------------------------------------
        Panel 1: API Connection and Farm Type Selection
      --------------------------------------------------------------------------------------------------------------------------->
      <section class="panel">
        <h2>1) Baƒülantƒ± v…ô t…ôs…ôrr√ºfat tipi</h2>
        <small>API baza √ºnvanƒ±: FastAPI i≈ül…ôy…ôn host/port.</small>
        <div class="toolbar">
          <label for="apiBase">API</label>
          <!-- <input id="apiBase" type="text" value="http://127.0.0.1:8000" /> Running on localhost-->
          <input id="apiBase" type="text" value="https://digirella-alfalfa.onrender.com" />
          <button id="connectBtn">Baƒülan</button>
          <button id="resetBtn" class="secondary">Sƒ±fƒ±rla</button>
          <span class="status" id="statusText">G√∂zl…ôm…ô rejimi.</span>
        </div>
        <div class="list" id="farmTypes"></div>
      </section>

      <!--------------------------------------------------------------------------------------------------------------------------
        Panel 2: Scenario Selection
      --------------------------------------------------------------------------------------------------------------------------->
      <section class="panel">
        <h2>2) Ssenari se√ßimi</h2>
        <small id="scenarioHint">∆èvv…ôl t…ôs…ôrr√ºfat tipini se√ßin.</small>
        <div class="list" id="scenarioList"></div>
      </section>

      <!--------------------------------------------------------------------------------------------------------------------------
        Panel 3: Recommendations Display
      --------------------------------------------------------------------------------------------------------------------------->
      <section class="panel">
        <h2>3) G√ºn√ºn n…ôtic…ôsi</h2>
        <div class="pill" id="selectionPill">T…ôs…ôrr√ºfat tipi: se√ßilm…ôyib</div>
        <div class="columns">
          <div>
            <h3>Edilm…ôli</h3>
            <div id="doList"></div>
          </div>
          <div>
            <h3>Edilm…ôm…ôli</h3>
            <div id="dontList"></div>
          </div>
        </div>
      </section>

      <!--------------------------------------------------------------------------------------------------------------------------
        Panel 4: Chatbot Interface
      --------------------------------------------------------------------------------------------------------------------------->
      <section class="panel">
        <h2>4) Chatbot</h2>
        <small>Qeyd: Chatbot h…ôr sorƒüuda ssenari 1-i se√ßir.</small>
        <div class="chat" id="chatArea"></div>
        <div class="chat-input">
          <input id="chatInput" type="text" placeholder="Bu g√ºn n…ô etm…ôliy…ôm?" />
          <button id="chatSend">G√∂nd…ôr</button>
        </div>
      </section>

    </main>

    <!--------------------------------------------------------------------------------------------------------------------------
      Footer with Documentation Button
    --------------------------------------------------------------------------------------------------------------------------->
    <footer class="footer">
      <button id="docsBtn" class="docs-button">
        üìñ Dokumentasiya
      </button>
      <p class="footer-text">DigiRella v1.0.0 - K…ônd T…ôs…ôrr√ºfatƒ± Q…ôrar D…ôst…ôk Sistemi</p>
    </footer>

    <!--------------------------------------------------------------------------------------------------------------------------
      Documentation Modal
    --------------------------------------------------------------------------------------------------------------------------->
    <div id="docsModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üìñ Dokumentasiya</h2>
          <button id="docsClose" class="modal-close">&times;</button>
        </div>
        <div class="modal-body" id="docsContent">
          <!-- Documentation content will be injected here by docs.js -->
        </div>
      </div>
    </div>

    <!--------------------------------------------------------------------------------------------------------------------------
      External JavaScript Files
      Order matters: config ‚Üí api ‚Üí ui ‚Üí app ‚Üí docs (main application logic)
    --------------------------------------------------------------------------------------------------------------------------->
    <script src="config.js"></script>
    <script src="api.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
    <script src="docs.js"></script>
  </body>
</html>
